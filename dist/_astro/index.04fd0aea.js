import{r,R as E,a as y}from"./index.a383d3d5.js";import{j as P}from"./utils.1a4f1886.js";import{u as g,a as w}from"./button.8e6db1ba.js";import{r as $}from"./index.4dc25dbf.js";function z(e,t,{checkForDefaultPrevented:o=!0}={}){return function(c){if(e?.(c),o===!1||!c.defaultPrevented)return t?.(c)}}function D(e,t=[]){let o=[];function i(s,u){const n=r.createContext(u),f=o.length;o=[...o,u];const m=a=>{const{scope:h,children:x,...S}=a,p=h?.[e]?.[f]||n,d=r.useMemo(()=>S,Object.values(S));return P.jsx(p.Provider,{value:d,children:x})};m.displayName=s+"Provider";function l(a,h){const x=h?.[e]?.[f]||n,S=r.useContext(x);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${a}\` must be used within \`${s}\``)}return[m,l]}const c=()=>{const s=o.map(u=>r.createContext(u));return function(n){const f=n?.[e]||s;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:f}}),[n,f])}};return c.scopeName=e,[i,A(c,...t)]}function A(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const i=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(s){const u=i.reduce((n,{useScope:f,scopeName:m})=>{const a=f(s)[`__scope${m}`];return{...n,...a}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return o.scopeName=t.scopeName,o}function G(e){const t=e+"CollectionProvider",[o,i]=D(t),[c,s]=o(t,{collectionRef:{current:null},itemMap:new Map}),u=p=>{const{scope:d,children:I}=p,C=E.useRef(null),v=E.useRef(new Map).current;return P.jsx(c,{scope:d,itemMap:v,collectionRef:C,children:I})};u.displayName=t;const n=e+"CollectionSlot",f=w(n),m=E.forwardRef((p,d)=>{const{scope:I,children:C}=p,v=s(n,I),R=g(d,v.collectionRef);return P.jsx(f,{ref:R,children:C})});m.displayName=n;const l=e+"CollectionItemSlot",a="data-radix-collection-item",h=w(l),x=E.forwardRef((p,d)=>{const{scope:I,children:C,...v}=p,R=E.useRef(null),b=g(d,R),M=s(l,I);return E.useEffect(()=>(M.itemMap.set(R,{ref:R,...v}),()=>void M.itemMap.delete(R))),P.jsx(h,{[a]:"",ref:b,children:C})});x.displayName=l;function S(p){const d=s(e+"CollectionConsumer",p);return E.useCallback(()=>{const C=d.collectionRef.current;if(!C)return[];const v=Array.from(C.querySelectorAll(`[${a}]`));return Array.from(d.itemMap.values()).sort((M,_)=>v.indexOf(M.ref.current)-v.indexOf(_.ref.current))},[d.collectionRef,d.itemMap])}return[{Provider:u,Slot:m,ItemSlot:x},S,i]}var N=globalThis?.document?r.useLayoutEffect:()=>{},O=y[" useId ".trim().toString()]||(()=>{}),T=0;function J(e){const[t,o]=r.useState(O());return N(()=>{e||o(i=>i??String(T++))},[e]),e||(t?`radix-${t}`:"")}var j=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],K=j.reduce((e,t)=>{const o=w(`Primitive.${t}`),i=r.forwardRef((c,s)=>{const{asChild:u,...n}=c,f=u?o:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(f,{...n,ref:s})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function Q(e,t){e&&$.flushSync(()=>e.dispatchEvent(t))}function W(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...o)=>t.current?.(...o),[])}var L=y[" useInsertionEffect ".trim().toString()]||N;function X({prop:e,defaultProp:t,onChange:o=()=>{},caller:i}){const[c,s,u]=k({defaultProp:t,onChange:o}),n=e!==void 0,f=n?e:c;{const l=r.useRef(e!==void 0);r.useEffect(()=>{const a=l.current;a!==n&&console.warn(`${i} is changing from ${a?"controlled":"uncontrolled"} to ${n?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),l.current=n},[n,i])}const m=r.useCallback(l=>{if(n){const a=H(l)?l(e):l;a!==e&&u.current?.(a)}else s(l)},[n,e,s,u]);return[f,m]}function k({defaultProp:e,onChange:t}){const[o,i]=r.useState(e),c=r.useRef(o),s=r.useRef(t);return L(()=>{s.current=t},[t]),r.useEffect(()=>{c.current!==o&&(s.current?.(o),c.current=o)},[o,c]),[o,i,s]}function H(e){return typeof e=="function"}var U=r.createContext(void 0);function Y(e){const t=r.useContext(U);return e||t||"ltr"}export{K as P,D as a,X as b,G as c,W as d,z as e,J as f,N as g,Q as h,Y as u};
