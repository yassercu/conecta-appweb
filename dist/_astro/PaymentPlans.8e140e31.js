import{j as e}from"./utils.4700314a.js";import{r as o}from"./index.ba1407fb.js";import{u as N,P as b}from"./PaymentForm.c5139f06.js";import{C as P,b as v,c as C,d as k,a as w,e as M}from"./card.76bb78a3.js";import{B as S}from"./button.24a09aef.js";import{T as D,a as q,b as h}from"./tabs.c3056105.js";import{c as i}from"./createLucideIcon.5c021b84.js";import{S as T}from"./sparkles.392f66c6.js";import"./index.bc2c71f5.js";import"./index.bc1dd6cd.js";import"./index.aa7e84ef.js";import"./index.0a899574.js";import"./index.2ab59327.js";import"./index.2229f0e2.js";import"./index.5c5fab55.js";import"./index.6af11c90.js";import"./index.48db0fbf.js";import"./x.cbcf9f3b.js";import"./input.38b38b9a.js";import"./label.06ff4936.js";import"./index.7640c394.js";import"./use-toast.3ee98f37.js";import"./credit-card.a6dcc7f6.js";import"./alert-dialog.6859f6df.js";import"./index.14f11eed.js";import"./index.39b6438a.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$=i("Calendar",A);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],x=i("CircleCheck",E);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],I=i("CircleHelp",_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],L=i("Trophy",H);function O(t={}){const[l,a]=o.useState(!1),[c,n]=o.useState(!1),[d,m]=o.useState(null);return{isOpen:l,loading:c,error:d,setIsOpen:a,handlePayment:async r=>{a(!0),m(null)},handlePaymentComplete:r=>{if(n(!1),a(!1),r.success)t.onSuccess?.(r);else{const u=new Error(r.message);m(r.message),t.onError?.(u)}t.onComplete?.()}}}const U=[{id:"free",name:"Plan Básico",description:"Comienza a mostrar tu negocio",features:["Registro básico del negocio","Perfil básico en la plataforma","Aparición en resultados de búsqueda","Información de contacto básica"],monthlyPrice:0,yearlyPrice:0,yearlyDiscount:0,popular:!1},{id:"basic",name:"Destacado Local",description:"Impulsa tu negocio en tu comunidad local",features:["Aparición destacada en búsquedas locales",'Badge "Destacado" en tu perfil',"Prioridad en resultados de búsqueda","Estadísticas básicas de visitas"],monthlyPrice:10,yearlyPrice:96,yearlyDiscount:20,popular:!1},{id:"premium",name:"Destacado Premium",description:"Máxima visibilidad para tu negocio",features:["Todo lo incluido en el plan Destacado Local",'Aparición en la sección "Destacados" de la página principal',"Estadísticas avanzadas de interacciones","Destacado en resultados de tu categoría","Soporte prioritario"],monthlyPrice:20,yearlyPrice:192,yearlyDiscount:20,popular:!0}];function pe(){const[t,l]=o.useState(null),[a,c]=o.useState("monthly"),{toast:n}=N(),{isOpen:d,loading:m,error:y,handlePayment:p,handlePaymentComplete:r,setIsOpen:u}=O({onSuccess:s=>{n({title:"¡Pago exitoso!",description:"Tu plan ha sido activado correctamente."}),window.location.href="/business/dashboard"},onError:s=>{n({variant:"destructive",title:"Error en el pago",description:s.message})}}),f=s=>{if(s.id==="free"){window.location.href="/register";return}l(s),p({amount:a==="monthly"?s.monthlyPrice:s.yearlyPrice,currency:"USD",concept:`Plan ${s.name} (${a==="monthly"?"Mensual":"Anual"})`,metadata:{planId:s.id,billingCycle:a,type:"plan_subscription"}})};return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx(D,{defaultValue:"monthly",value:a,onValueChange:c,className:"w-[400px]",children:e.jsxs(q,{className:"grid w-full grid-cols-2",children:[e.jsx(h,{value:"monthly",className:"text-center",children:"Mensual"}),e.jsxs(h,{value:"yearly",className:"text-center",children:["Anual ",e.jsx("span",{className:"ml-1.5 text-xs bg-green-100 text-green-800 rounded-full px-2 py-0.5 dark:bg-green-900 dark:text-green-100",children:"20% ahorro"})]})]})})}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:U.map(s=>e.jsxs(P,{className:`relative overflow-hidden flex flex-col h-full ${s.popular?"border-primary shadow-md":""}`,children:[s.popular&&e.jsx("div",{className:"absolute top-0 right-0",children:e.jsx("div",{className:"bg-primary text-primary-foreground text-xs px-3 py-1 rounded-bl-md font-medium",children:"Más Popular"})}),e.jsx(v,{className:"px-2",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsxs(C,{className:"text-xl flex items-center gap-2",children:[s.id==="premium"?e.jsx(L,{className:"h-5 w-5 text-yellow-500"}):s.id==="basic"?e.jsx(T,{className:"h-5 w-5 text-blue-500"}):e.jsx(x,{className:"h-5 w-5 text-green-500"}),s.name]}),e.jsx(k,{className:"mt-1.5",children:s.description})]})})}),e.jsxs(w,{className:"space-y-4 flex-grow",children:[e.jsxs("div",{className:"mt-1",children:[e.jsxs("div",{className:"flex items-baseline",children:[e.jsx("span",{className:"text-3xl font-bold",children:s.monthlyPrice===0?"Gratis":`$${a==="monthly"?s.monthlyPrice:s.yearlyPrice}`}),s.monthlyPrice>0&&e.jsxs("span",{className:"text-muted-foreground ml-1.5",children:["/",a==="monthly"?"mes":"año"]})]}),a==="yearly"&&s.yearlyDiscount>0&&e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 mt-1 flex flex-col items-start",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx($,{className:"h-3.5 w-3.5 mr-1"}),"Equivale a ",12-s.yearlyDiscount/100*12," meses"]}),e.jsxs("span",{className:"ml-5",children:["Sin descuento: ",e.jsxs("span",{className:"line-through",children:["$",s.monthlyPrice*12]})," USD"]}),e.jsxs("span",{className:"ml-5 text-xs text-muted-foreground",children:["(Ahorro de ",s.yearlyDiscount,"% respecto al pago mensual)"]})]})]}),e.jsx("ul",{className:"space-y-2.5 mt-6",children:s.features.map((g,j)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(x,{className:"h-5 w-5 text-green-500 shrink-0 mr-2"}),e.jsx("span",{className:"text-sm",children:g})]},j))})]}),e.jsx(M,{className:"pt-4 mt-auto",children:e.jsx(S,{className:"w-full",variant:s.popular?"default":"outline",size:"lg",disabled:s.id==="free",onClick:()=>f(s),children:s.id==="free"?"Plan Actual":`Contratar Plan ${a==="monthly"?"Mensual":"Anual"}`})})]},s.id))}),e.jsx(b,{isOpen:d,onClose:()=>u(!1),amount:t?a==="monthly"?t.monthlyPrice:t.yearlyPrice:0,currency:"USD",concept:t?`Plan ${t.name} (${a==="monthly"?"Mensual":"Anual"})`:"",onPaymentComplete:r,metadata:{planId:t?.id,billingCycle:a,type:"plan_subscription"}}),e.jsxs("div",{className:"mt-12 bg-muted/50 p-6 rounded-lg border",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(I,{className:"h-5 w-5 mr-2 text-muted-foreground"}),"Preguntas Frecuentes"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1",children:"¿Cómo funciona la promoción destacada?"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tu negocio aparecerá en posiciones prioritarias en los resultados de búsqueda y con un distintivo especial que lo hará más visible para los usuarios."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1",children:"¿Puedo cancelar mi suscripción?"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sí, puedes cancelar en cualquier momento desde tu panel de control. Los planes mensuales se cancelan al final del mes en curso, y los anuales al final del periodo contratado."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1",children:"¿Qué métodos de pago aceptan?"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Aceptamos tarjetas de crédito y débito, pagos conciliados mediante WhatsApp y Tropipay."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1",children:"¿Qué tipo de modenas y taza de cambio aceptan?"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Aceptamos casi cuanquire moneda de curso legal en Cuban (USD,EUR, MLC, CUP) y cualqueir otra que se pacte directamente con nuestro equipo."})]})]})]})]})}export{pe as default};
